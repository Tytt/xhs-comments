# 小红书评论采集工具

一个用于自动获取小红书页面评论的Chrome扩展插件。

## 功能特点

- 🚀 **一键采集**: 点击按钮即可自动采集当前页面的所有评论
- 📜 **智能滚动**: 自动滚动加载更多评论，确保获取完整数据
- 💾 **多格式导出**: 支持JSON和CSV两种格式导出评论数据
- 🎯 **精准提取**: 智能识别评论内容、用户名、时间、点赞数等信息
- 🔧 **可自定义**: 可配置自动滚动、导出格式等选项
- 💡 **用户友好**: 简洁美观的界面，操作简单直观

## 安装方法

### 方式一：开发者模式安装（推荐）

1. 打开Chrome浏览器，地址栏输入 `chrome://extensions/`
2. 开启右上角的"开发者模式"开关
3. 点击"加载已解压的扩展程序"
4. 选择本项目文件夹
5. 插件安装完成！

### 方式二：打包安装

1. 在Chrome扩展程序页面点击"打包扩展程序"
2. 选择本项目文件夹，生成.crx文件
3. 拖拽.crx文件到Chrome扩展程序页面进行安装

## 使用方法

### 基本操作

1. **打开小红书页面**: 访问任意小红书笔记详情页
2. **点击采集按钮**: 页面右侧会出现"📝 采集评论"按钮
3. **开始采集**: 点击按钮，插件会自动：
   - 滚动到评论区域
   - 自动加载更多评论
   - 提取评论信息
   - 自动导出文件

### 高级功能

- **弹出窗口控制**: 点击插件图标打开控制面板
- **实时监控**: 在控制面板中查看采集进度
- **设置调整**: 可以关闭自动滚动或CSV导出
- **手动导出**: 可以随时手动导出已采集的数据

## 导出数据格式

### JSON格式
```json
{
  "exportTime": "2024-01-01T12:00:00.000Z",
  "pageUrl": "https://www.xiaohongshu.com/...",
  "pageTitle": "页面标题",
  "totalComments": 50,
  "comments": [
    {
      "id": 1,
      "username": "用户名",
      "content": "评论内容",
      "time": "2小时前",
      "likes": 10,
      "replies": 2,
      "avatar": "头像链接"
    }
  ]
}
```

### CSV格式
| 序号 | 用户名 | 评论内容 | 时间 | 点赞数 | 回复数 |
|------|--------|----------|------|--------|--------|
| 1    | 用户A  | 很不错   | 1天前 | 5     | 0      |

## 技术特点

- **智能选择器**: 使用多种CSS选择器策略，适应页面结构变化
- **异步处理**: 非阻塞式采集，不影响页面正常使用
- **错误处理**: 完善的错误处理机制，提供友好的错误提示
- **数据清洗**: 自动过滤无效数据，确保导出质量
- **内存优化**: 合理管理内存使用，避免页面卡顿

## 注意事项

1. **仅限学习研究**: 请遵守小红书的使用条款，仅用于个人学习研究
2. **数据责任**: 用户需对采集的数据承担责任，请勿用于商业用途
3. **页面刷新**: 如果页面结构发生变化，可能需要刷新页面重新加载插件
4. **网络环境**: 网络较慢时，建议增加等待时间以确保数据完整性

## 常见问题

### Q: 插件无法正常工作？
A: 请确保：
- 在小红书页面使用插件
- 已正确安装并启用插件
- 页面已完全加载
- 尝试刷新页面重新加载插件

### Q: 采集的评论数量不完整？
A: 可能原因：
- 网络加载较慢，可以多等待一会儿
- 页面结构发生变化，插件需要更新
- 某些评论可能被折叠或需要展开

### Q: 导出的文件打不开？
A: 请确保：
- 使用支持UTF-8编码的编辑器打开
- CSV文件用Excel打开可能需要手动设置编码
- JSON文件可用任何文本编辑器打开

## 文件结构

```
xhs-comments/
├── manifest.json      # 插件配置文件
├── content.js         # 内容脚本（核心采集逻辑）
├── content.css        # 样式文件
├── popup.html         # 弹出窗口页面
├── popup.js           # 弹出窗口逻辑
├── popup.css          # 弹出窗口样式
├── icons/             # 图标文件夹
│   ├── icon16.png     # 16x16 图标
│   ├── icon48.png     # 48x48 图标
│   └── icon128.png    # 128x128 图标
└── README.md          # 使用说明
```

## 开发说明

### 环境要求
- Chrome 88+
- 支持Manifest V3

### 开发调试
1. 在Chrome扩展程序页面点击"详细信息"
2. 启用"在无痕模式下启用"（如需要）
3. 使用F12开发者工具查看控制台日志

### 自定义修改
- 修改 `content.js` 中的选择器以适应新的页面结构
- 调整 `content.css` 中的样式以匹配个人喜好
- 在 `popup.html` 中添加新的功能选项

## 更新日志

### v1.0.0 (2024-01-01)
- 初始版本发布
- 支持基本的评论采集功能
- 提供JSON和CSV导出
- 添加用户友好的界面

## 许可证

本项目仅供学习研究使用，请遵守相关法律法规和平台使用条款。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 创建Issue
- 提交Pull Request

---

⚠️ **免责声明**: 本插件仅用于技术学习和研究，使用者需自行承担使用风险和责任。请遵守小红书的使用条款，不得用于商业用途或违法行为。 